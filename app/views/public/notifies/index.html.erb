<div class ="container">
  <h3>通知一覧</h3>
  <div class="row">
    <% if @notifies.exists? %>
    <div class="col-md-8 my-5 mx-auto">
      <% @notifies.each do |notify| %>
      <table class="table table-borderless">
        <% if notify.action == "like" %>
        <tr>
          <td><%= profile_image(notify.notifier, notify.notifier.genre,30,30) %></td>
          <th><%= notify.notifier.club_name %>が　"<%= link_to recruit_path(notify.recruit.id), class:"text-dark" do %><%= notify.recruit.title %><% end %>"　に いいね♡しました</th>
        </tr>

        <% elsif notify.action == "message" %>
        <tr>
          <td><%= profile_image(notify.notifier, notify.notifier.genre,30,30) %></td>
          <th><%= notify.notifier.club_name %>から メッセージが届きました</th>
        </tr>
        <% elsif notify.action == "entry" %>
        <tr>
          <td><%= profile_image(notify.notifier, notify.notifier.genre,30,30) %></td>
          <th><%= notify.notifier.club_name %>が　"<%= link_to recruit_path(notify.recruit.id), class:"text-dark" do %><%= notify.recruit.title %><% end %>"　に応募しました</th>
        </tr>
        <% elsif notify.action == "match" %>
        <tr>
          <td><%= profile_image(notify.notifier, notify.notifier.genre,30,30) %></td>
          <th>と、　"<%= link_to recruit_path(notify.recruit.id), class:"text-dark" do %><%= notify.recruit.title %><% end %>"　でマッチしました！</th>
        </tr>
        <% elsif notify.action == "match_rejected" %>
        <tr>
          <td>
          <%= link_to recruit_path(notify.recruit.id), class:"text-dark" do %>
            <% if @user.image.attached? %>
              <%= image_tag @user.image, size: "150 X 150", class:"rounded-circle card-img-top" %>
            <% else %>
              <%= image_tag @user.genre.genre_image, size: "150 X 150", class:"rounded-circle card-img-top" %>
            <% end %>
          <% end %>
          </td>
          <th><%= notify.recruit.title %>　への応募結果はマッチ不成立でした。</th>
        </tr>
        <% elsif %>
        <tr>
          <td><%= profile_image(notify.notifier, notify.notifier.genre,30,30) %></td>
          <th>"<%= notify.recruit.title %>"　の練習日を過ぎたため、この募集への応募は削除されました。</th>
        </tr>
        <% end %>
      </table>
      <% end %>
    </div>
    <% else %>
    <div class="col-md-8 mt-5">
      <h5>新しい通知はありません</h5>
    </div>
    <% end %>
  </div>
</div>