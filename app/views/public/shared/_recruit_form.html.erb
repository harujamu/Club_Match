<div>
  <%= form_with model: recruit do |f| %>
    <table class="table table-borderless recruit-form-table">
      <tbody>
        <tr class="caption">
          <th class="no-wrap">タイトル</th>
          <td colspan="4">
            <%= f.text_area :title, class:"form-control form-control-sm" %>
          </td>
        </tr>

        <tr class="caption">
          <th class="no-wrap">ジャンル</th>
          <td colspan="4"><%= genre.name %></td>
        </tr>

        <tr class="caption">
          <th class="no-wrap">開催地</th>
          <td colspan="4">
            <%= f.select :site_id,
              options_from_collection_for_select(sites, :id, :site_name),
              {include_blank:"選択してください"},
              {class:"form-control w-75"}
            %>
          </td>
        </tr>

        <tr class="caption">
          <th class="no-wrap">練習形式</th>
          <td colsapn="4">
            <span class="practice-type-form">
              <%= f.radio_button :practice_type, "joint_practice" %>
              <%= f.label :"合同練習" %>
            </span>　　
            <span class="practice-type-form">
              <%= f.radio_button :practice_type, "practice_game" %>
              <%= f.label :"練習試合" %>
            </span>
          </td>
        </tr>

        <tr class="caption">
          <th class="no-wrap">日程</th>
          <td colspan="4">
            <%=f.date_field :date, class:"form-control w-50" %>
          </td>
        </tr>

        <tr class="caption">
          <th class="no-wrap">年齢層</th>
          <td colspan="4">
            <%= f.select :age_group,
              Recruit.age_groups_i18n.keys.map{|k| [I18n.t("enums.recruit.age_group.#{k}"), k]},
              {include_blanck: t("選択してください")},
              {class:"form-control w-50"} 
            %>
          </td>
        </tr>

        <tr rowspan="3",class="caption">
          <th class="no-wrap">当日の活動内容</th>
          <td colspan="4">
            <%= f.text_area :detail, class:"form-control form-control-lg" %>
          </td>
        </tr>

      <% if current_page?(action: 'new') %>
        <tr class="caption">
          <th></th>
          <td colspan="4", class="text-right">
            <%= f.submit '募集する', class:"btn btn-success w-50 no-wrap " %>
          </td>
        </tr>
        
      <% elsif current_page?(action: 'edit') || params["_method"] == "patch" %>
        <tr class="caption">
          <th class="no-wrap">公開ステータス</th>
          <td colsapn="4">
            <%= f.radio_button :open_status, true %>
            <%= f.label :"公開" %>
            <%= f.radio_button :open_status, false, class:"ml-5" %>
            <%= f.label :"公開停止" %>
          </td>
        </tr>

        <tr class="caption">
          <th></th>
          <td colspan="4", class="text-right">
            <%= f.submit '更新する', class:"btn btn-primary w-25 no-wrap px-1" %>
            <%= link_to '削除する',
              recruit_path(recruit.id),
              method: :delete,
              class:"btn btn-danger ml-2 w-25 no-wrap px-1"
            %>
          </td>
        </tr>

      <% else %>
        <tr class="caption">
          <th></th>
          <td colspan="4", class="text-right"><%= f.submit '募集する', class:"btn btn-success w-50 no-wrap " %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% end %>
</div>